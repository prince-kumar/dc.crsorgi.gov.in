var g_EnableTypingOnlyOnKBDOpen=1,curleft=0,curtop=0,jsFolderPath="https://tran.census.gov.in/CDAC-EnhanceTransliterationAPI/js",cssFolderPath=jsFolderPath+"/css",companyImageURL=jsFolderPath+"/images/c-dacLogo.png",groupImageURL=jsFolderPath+"/images/gistlogo.png",closeImageURL=jsFolderPath+"/images/close.png";"undefined"!=typeof jQuery||window.jQuery?"undefined"==typeof jQuery&&window.jQuery?jQuery=window.jQuery:"undefined"==typeof jQuery||window.jQuery||(window.jQuery=jQuery):document.write("<script language='javascript' type='text/javascript' src='"+jsFolderPath+"/jquery.min.js'><\/script>"),void 0===jQuery.ui&&(document.write("<script language='javascript' type='text/javascript' src='"+jsFolderPath+"/jquery-ui.min.js'><\/script>"),document.write("<link rel='stylesheet' type='text/css' href='"+cssFolderPath+"/jquery-ui.min.css'/>")),KBDjqr=jQuery.noConflict(),$=jQuery.noConflict(),document.write("<link rel='stylesheet' type='text/css' href='"+cssFolderPath+"/cdac-gist-fonts.css' />"),document.write("<link rel='stylesheet' type='text/css' href='"+cssFolderPath+"/GistFloatingKeyboard.css' />"),document.write("<script language='javascript' type='text/javascript' src='"+jsFolderPath+"/LanguagesArray.js'><\/script>");var g_ActiveObj=null,g_KeyboardContainer=null,g_CurrentLanguage="hindi",g_BrowserName=getBrowserName(),g_MarginFromWindow=20,g_ID_Array=null,g_PreviousFontFamily=null,over=!1,isKBDOpen=!1,isShiftPressed=!1,lChecked=!1,selectedTextStart=-1,selectedTextEnd=-1,caretPos=0,beforeText="",afterText="",mapArray=null,mapExtArray=null,mapShiftArray=null,mapShiftExtArray=null,whichClass=0;function openKeyboard(t,e,a){try{if(isKBDOpen&&closeKeyboard(),null!=t&&void 0!=t){t=getLanguageName(t);var r=-1!=KBDjqr.inArray(t.toLowerCase(),languageSupport);if(r||(r=-1!=KBDjqr.inArray(t.toLowerCase(),languageLocaleSupport)),r){var i=null;if(null!=a&&void 0!=a){i=a;var s=document.getElementById(i);if(s.offsetParent)do{curleft+=s.offsetLeft,curtop+=s.offsetTop}while(s=s.offsetParent);curleft<g_MarginFromWindow&&(curleft=g_MarginFromWindow),KBDjqr("#"+i).addClass("gist_flt_kbdBX backgroundClrTheme1"),KBDjqr("#"+i).attr("align","center")}else KBDjqr(document.body).append("<div id='gistFK_kbdBox' class='gist_flt_kbdBX backgroundClrTheme1' align='center'></div>"),i="gistFK_kbdBox",0==curleft&&0==curtop&&(curtop=KBDjqr(window).height()/2-109,curleft=KBDjqr(window).width()/2-265);g_KeyboardContainer=KBDjqr("#"+i),null!=e&&void 0!=e&&(g_ID_Array=e),KBDjqr("#"+i).html(designKeyboard()),setLanguageOnKeyboard(t.toLowerCase()),KBDjqr("#"+i).css({left:curleft+"px"}),KBDjqr("#"+i).css({top:curtop+"px"}),KBDjqr("#"+i).show(),isKBDOpen=!0}else console.log("Sorry! There is no support for "+t+" language.");null==a&&void 0==a&&KBDjqr("#"+i).draggable({containment:window.document.body})}else document.getElementById(g_KeyboardContainer)&&closeKeyboard()}catch(t){}}function closeKeyboard(){try{KBDjqr(g_KeyboardContainer).html(""),KBDjqr(g_KeyboardContainer).removeClass("gist_flt_kbdBX"),document.getElementById("gistFK_kbdBox")&&KBDjqr("#gistFK_kbdBox").remove(),KBDjqr(g_ActiveObj).focus(),setCursorPosition(g_ActiveObj,caretPos),isKBDOpen=!1}catch(t){}}function changeKeyboardLanguage(t){try{t=getLanguageName(t),isKBDOpen&&(null!=t||void 0!==t)||g_CurrentLanguage!=t?(t!=g_CurrentLanguage&&(g_CurrentLanguage=t),setLanguageOnKeyboard(t),null!=g_ActiveObj&&(getkeyboardCaretPosition(g_ActiveObj),setCursorPosition(g_ActiveObj,caretPos))):(t!=g_CurrentLanguage&&(g_CurrentLanguage=t),setLanguageOnKeyboard(t))}catch(t){}}function onlyAllowTypingOnKbdOpen(t){g_EnableTypingOnlyOnKBDOpen=1==t?1:0}function getLanguageName(t){try{switch(t=t.toLowerCase()){case"hi_in":case"hin":t="hindi";break;case"gj_in":case"guj":t="gujarati";break;case"mr_in":case"mar":t="marathi";break;case"pn_in":case"pan":t="punjabi";break;case"ml_in":case"mal":t="malayalam";break;case"bn_in":case"ben":t="bengali";break;case"ur_in":case"urd":t="urdu";break;case"kn_in":case"kan":t="kannada";break;case"as_in":case"asm":t="assamese";break;case"bd_in":case"brx":t="bodo";break;case"NA":case"dgo":t="dogri";break;case"ks_in":case"kas":t="kashmiridev";break;case"ko_in":case"kok":t="konkani";break;case"NA":case"mai":t="maithili";break;case"mn_in":case"mni":t="manipuri";break;case"NA":case"met":t="meeteimayek";break;case"ne_in":case"nep":t="nepali";break;case"NA":case"olc":t="olchiki";break;case"or_in":case"ori":t="oriya";break;case"sa_in":case"san":t="sanskrit";break;case"NA":case"sat":t="santali";break;case"sd":case"snd":t="sindhidev";break;case"snd-arab":case"sindhipersoarabic":case"sndpa":t="sindhipa";break;case"tm_in":case"tam":t="tamil";break;case"te_in":case"tel":case"tl_in":t="telugu";break;case"md_in":case"mod":t="modi"}}catch(t){}return t}function executeAfterClick(t){try{if(!isKBDOpen&&(isKBDOpen||0!=g_EnableTypingOnlyOnKBDOpen))return void(g_ActiveObj="");if(g_ActiveObj!=t)if(KBDjqr.trim(g_ID_Array).length>0){if(!checkID(t))return void resetCloseKeyboard();g_ActiveObj=t}else g_ActiveObj=t;(g_PreviousFontFamily=KBDjqr(t).css("font-family"))!="gist_"+g_CurrentLanguage+"_font"&&KBDjqr(t).css("font-family","gist_"+g_CurrentLanguage+"_font"),"true"==KBDjqr(g_ActiveObj).attr("contenteditable")&&KBDjqr(g_ActiveObj).css("white-space","pre");var e=navigator.userAgent.toLowerCase();/android/gi.test(e)&&(isKBDOpen||0==g_EnableTypingOnlyOnKBDOpen)&&KBDjqr(g_ActiveObj).attr("readonly",!0),setFontOnInputBox(g_CurrentLanguage)}catch(t){}}function resetCloseKeyboard(){try{KBDjqr(g_KeyboardContainer).html(""),KBDjqr(g_KeyboardContainer).removeClass("gist_flt_kbdBX"),document.getElementById("gistFK_kbdBox")&&KBDjqr("#gistFK_kbdBox").remove(),isKBDOpen=!1}catch(t){}}function keyDownOnInputBox(t,e){try{t.preventDefault();for(var a=asciiArray.length,r=0;r<a;r++)if(e==asciiArray[r]){if(r>=47&&isShiftPressed||r>=47&&t.shiftKey){if(lChecked){e=mapShiftExtArray[r-47];break}e=mapShiftArray[r-47];break}if(r>=47&&!isShiftPressed||r>=47&&!t.shiftKey){if(lChecked){e=mapExtArray[r-47];break}e=mapArray[r-47];break}if(r<47&&isShiftPressed||r<47&&t.shiftKey){if(lChecked){e=mapShiftExtArray[r];break}e=mapShiftArray[r];break}if(r<47&&!isShiftPressed||r<47&&!t.shiftKey){if(lChecked){e=mapExtArray[r];break}e=mapArray[r];break}if(r>47){if(lChecked){e=mapExtArray[r-47];break}e=mapArray[r-47];break}if(r<47){if(lChecked){e=mapShiftExtArray[r];break}e=mapShiftArray[r];break}}KBDjqr.trim(e).length>0&&!t.ctrlKey&&insertValue(e)}catch(t){}}function designKeyboard(){try{return"<div id='gist_flt_kbdBX_firstInnerBox'><div id='gistFK_wdrag' class='gist_flt_wdrag gist_flt_wdrag_Theme1'><div id='gistFK_kbdTitle' onmouseover='over=true;' onmouseout='over=false;'>Enhanced Inscript Keyboard(BIS - IS 16350)</div><div id='gistFK_kbdClose'><img id='gistFK_CloseBtn' class='gistFK_Close_Btn' alt='Close' src="+closeImageURL+"></div></div><div id='gistFK_kbdButtons'><div id='firstRowBTN'><input type='button' id='gistFK_b1' title='~' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b2' title='1' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b3' title='2' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b4' title='3' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b5' title='4' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b6' title='5' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b7' title='6' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b8' title='7' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b9' title='8' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b10' title='9' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b11' title='0' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b12' title='-' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b13' title='=' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_Bksp' title='Backspace' value='Bksp' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1' style='width: 43pt !important;'/></div><div id='firstRowBTN'><input type='button' id='gistFK_Tab' title='Tab' value='Tab' class='gist_flt_kbdBtnDisable commonButtonStyle themeBorder1' style='width: 43pt !important;' disabled = 'disabled'/><input type='button' id='gistFK_b14' title='Q' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b15' title='W' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b16' title='E' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b17' title='R' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b18' title='T' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b19' title='Y' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b20' title='U' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b21' title='I' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b22' title='O' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b23' title='P' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b24' title='[' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b25' title=']' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b26' title='\\' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/></div><div id='firstRowBTN'><input type='button' id='gistFK_Lock' title='Caps Lock' value='Caps' class='gist_flt_kbdBtnDisable commonButtonStyle themeBorder1' style='width: 50pt !important;' disabled = 'disabled'/><input type='button' id='gistFK_b27' title='A' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b28' title='S' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b29' title='D' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b30' title='F' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b31' title='G' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b32' title='H' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b33' title='J' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b34' title='K' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b35' title='L' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b36' title=';' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b37' title=''' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_Enter' title='Enter' value='Enter' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1' style='width: 44pt !important;'/></div><div id='firstRowBTN'><input type='button' id='gistFK_btnShift1' title='Shift' value='Shift' class='commonButtonStyle themeBorder1 themeBackground1 gist_flt_kbd_shiftUp' style='width: 60pt !important;'/><input type='button' id='gistFK_b38' title='Z' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b39' title='X' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b40' title='C' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b41' title='V' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b42' title='B' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b43' title='N' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b44' title='M' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b45' title=',' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b46' title='.' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_b47' title='/' value='' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1'/><input type='button' id='gistFK_btnShift2' title='Shift' value='Shift' class='commonButtonStyle themeBorder1 themeBackground1 gist_flt_kbd_shiftUp' style='width: 60pt !important;'/></div></div><div id='gistFK_BottomBar'><a href='http://cdac.in/' title='CDAC'><img id='gistFK_cdacLogo' alt='CDAC' src="+companyImageURL+"></a><a href='http://www.cdac.in/index.aspx?id=gist' title='CDAC GIST'><img id='gistFK_gistLogo' alt='CDAC GIST' src="+groupImageURL+"></a><div id='gistFK_spaceBar'><input type='button' id='gistFK_SpaceBar' title='Space' value=' ' class='gist_flt_kbdBtn commonButtonStyle themeBorder1 themeBackground1' style='width:150pt !important;'/></div><div id='gistFK_altGr'><input type='button' id='gistFK_lchange' title='Change Layout' value='AltGr' class='commonButtonStyle themeBorder1 themeBackground1 gistFK_lchange_Up'/> </div><div id='gistFK_themes'><input type='button' title='Theme Blue' id='gistFK_theme1' value='' class='gistFK_SmallBox'/><input type='button' title='Theme Gray' id='gistFK_theme2' value='' class='gistFK_SmallBox'/><input type='button' title='Theme Green' id='gistFK_theme3' value='' class='gistFK_SmallBox'/></div></div></div>"}catch(t){}}function setLanguageOnKeyboard(t){try{if(void 0!==t||0!=KBDjqr.trim(t).length)if(-1!=KBDjqr.inArray(t.toLowerCase(),languageSupport)){switch(t.toLowerCase()){case"hindi":mapArray=mapHindiArray,mapExtArray=mapHindiExtArray,mapShiftArray=mapHindiShiftArray,mapShiftExtArray=mapHindiShiftExtArray;break;case"urdu":mapArray=mapUrduArray,mapExtArray=mapUrduExtArray,mapShiftArray=mapUrduShiftArray,mapShiftExtArray=mapUrduShiftExtArray;break;case"gujarati":mapArray=mapGujaratiArray,mapExtArray=mapGujaratiExtArray,mapShiftArray=mapGujaratiShiftArray,mapShiftExtArray=mapGujaratiShiftExtArray;break;case"punjabi":mapArray=mapPunjabiArray,mapExtArray=mapPunjabiExtArray,mapShiftArray=mapPunjabiShiftArray,mapShiftExtArray=mapPunjabiShiftExtArray;break;case"bengali":mapArray=mapBengaliArray,mapExtArray=mapBengaliExtArray,mapShiftArray=mapBengaliShiftArray,mapShiftExtArray=mapBengaliShiftExtArray;break;case"marathi":mapArray=mapMarathiArray,mapExtArray=mapMarathiExtArray,mapShiftArray=mapMarathiShiftArray,mapShiftExtArray=mapMarathiShiftExtArray;break;case"malayalam":mapArray=mapMalayalamArray,mapExtArray=mapMalayalamExtArray,mapShiftArray=mapMalayalamShiftArray,mapShiftExtArray=mapMalayalamShiftExtArray;break;case"kannada":mapArray=mapKannadaArray,mapExtArray=mapKannadaExtArray,mapShiftArray=mapKannadaShiftArray,mapShiftExtArray=mapKannadaShiftExtArray;break;case"assamese":mapArray=mapAssameseArray,mapExtArray=mapAssameseExtArray,mapShiftArray=mapAssameseShiftArray,mapShiftExtArray=mapAssameseShiftExtArray;break;case"bodo":mapArray=mapBodoArray,mapExtArray=mapBodoExtArray,mapShiftArray=mapBodoShiftArray,mapShiftExtArray=mapBodoShiftExtArray;break;case"dogri":mapArray=mapDogriArray,mapExtArray=mapDogriExtArray,mapShiftArray=mapDogriShiftArray,mapShiftExtArray=mapDogriShiftExtArray;break;case"kashmiridev":mapArray=mapKashmiriDevArray,mapExtArray=mapKashmiriDevExtArray,mapShiftArray=mapKashmiriDevShiftArray,mapShiftExtArray=mapKashmiriDevShiftExtArray;break;case"konkani":mapArray=mapKonkaniArray,mapExtArray=mapKonkaniExtArray,mapShiftArray=mapKonkaniShiftArray,mapShiftExtArray=mapKonkaniShiftExtArray;break;case"maithili":mapArray=mapMaithiliArray,mapExtArray=mapMaithiliExtArray,mapShiftArray=mapMaithiliShiftArray,mapShiftExtArray=mapMaithiliShiftExtArray;break;case"manipuri":mapArray=mapManipuriArray,mapExtArray=mapManipuriExtArray,mapShiftArray=mapManipuriShiftArray,mapShiftExtArray=mapManipuriShiftExtArray;break;case"meeteimayek":mapArray=mapMeeteiMayekArray,mapExtArray=mapMeeteiMayekExtArray,mapShiftArray=mapMeeteiMayekShiftArray,mapShiftExtArray=mapMeeteiMayekShiftExtArray;break;case"nepali":mapArray=mapNepaliArray,mapExtArray=mapNepaliExtArray,mapShiftArray=mapNepaliShiftArray,mapShiftExtArray=mapNepaliShiftExtArray;break;case"olchiki":mapArray=mapOlChikiArray,mapExtArray=mapOlChikiExtArray,mapShiftArray=mapOlChikiShiftArray,mapShiftExtArray=mapOlChikiShiftExtArray;break;case"oriya":mapArray=mapOriyaArray,mapExtArray=mapOriyaExtArray,mapShiftArray=mapOriyaShiftArray,mapShiftExtArray=mapOriyaShiftExtArray;break;case"sanskrit":mapArray=mapSanskritArray,mapExtArray=mapSanskritExtArray,mapShiftArray=mapSanskritShiftArray,mapShiftExtArray=mapSanskritShiftExtArray;break;case"santali":mapArray=mapSantaliArray,mapExtArray=mapSantaliExtArray,mapShiftArray=mapSantaliShiftArray,mapShiftExtArray=mapSantaliShiftExtArray;break;case"sindhidev":mapArray=mapSindhiDevArray,mapExtArray=mapSindhiDevExtArray,mapShiftArray=mapSindhiDevShiftArray,mapShiftExtArray=mapSindhiDevShiftExtArray;break;case"sindhipa":mapArray=mapSindhiPaArray,mapExtArray=mapSindhiPaExtArray,mapShiftArray=mapSindhiPaShiftArray,mapShiftExtArray=mapSindhiPaShiftExtArray;break;case"tamil":mapArray=mapTamilArray,mapExtArray=mapTamilExtArray,mapShiftArray=mapTamilShiftArray,mapShiftExtArray=mapTamilShiftExtArray;break;case"telugu":mapArray=mapTeluguArray,mapExtArray=mapTeluguExtArray,mapShiftArray=mapTeluguShiftArray,mapShiftExtArray=mapTeluguShiftExtArray;break;case"modi":mapArray=mapModiArray,mapExtArray=mapModiExtArray,mapShiftArray=mapModiShiftArray,mapShiftExtArray=mapModiShiftExtArray}if(KBDjqr(g_KeyboardContainer).length>0){for(var e=mapArray.length,a=0;a<e;a++)KBDjqr("#gistFK_b"+(a+1)).val(mapArray[a]);KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").hasClass("gist_flt_kbd_shiftDown")&&(KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").removeClass("gist_flt_kbd_shiftDown"),KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").addClass("gist_flt_kbd_shiftUp"),isShiftPressed=!1),KBDjqr("#gistFK_lchange").hasClass("gistFK_lchange_Down")&&(KBDjqr("#gistFK_lchange").removeClass("gistFK_lchange_Down"),KBDjqr("#gistFK_lchange").addClass("gistFK_lchange_Up"),lChecked=!1),g_CurrentLanguage!=t&&(g_CurrentLanguage=t),KBDjqr("#gistFK_kbdButtons").css("font-family","gist_"+t+"_font"),setFontOnInputBox(t)}}else console.log("Sorry! There is no support for "+t+" language.")}catch(t){}}function setFontOnInputBox(t){try{KBDjqr(g_ActiveObj).css("font-family","gist_"+t+"_font")}catch(t){}}function mapKey(t){try{if(null!=g_ActiveObj){getkeyboardCaretPosition(g_ActiveObj);var e=t.value;if("gistFK_SpaceBar"==t.id)return void insertValue(" ");switch(e){case" ":case"&nbsp;":break;case"Bksp":deleteValue();break;default:insertValue(e)}}}catch(t){}}function insertValue(t){try{var e="";if(KBDjqr(g_ActiveObj).focus(),""!=t)if(""==t?t="‌":""==t&&(t="‍"),"Enter"==t&&(t="msie"!=g_BrowserName||isBrowserAboveIE9()?"\n":"\r\n"),"true"==KBDjqr(g_ActiveObj).attr("contenteditable")||"plaintext-only"==KBDjqr(g_ActiveObj).attr("contenteditable")){if(document.selection)var a=document.createTextNode(t);else if(window.getSelection)a=document.createTextNode(t);insertNodeAtCursor(a,g_ActiveObj)}else{if(selectedTextStart!=selectedTextEnd){var r=KBDjqr(g_ActiveObj).val();e=r.slice(0,selectedTextStart)+t+r.slice(selectedTextEnd),selectedTextStart=selectedTextEnd=-1,caretPos+=t.length}else e=beforeText+t+afterText,caretPos+=t.length;KBDjqr(g_ActiveObj).val(e),setCursorPosition(g_ActiveObj,caretPos)}}catch(t){}}function insertNodeAtCursor(t,e){try{var a,r;if(window.getSelection)if((a=window.getSelection()).getRangeAt&&a.rangeCount)(i=a.getRangeAt(0)).insertNode(t),i.collapse(!1),a.removeAllRanges(),a.addRange(i);else{var i,s=document.getElementById(e);(i=document.createRange()).selectNodeContents(s),i.insertNode(t),i.setStartAfter(t),i.collapse(!0),a.removeAllRanges(),a.addRange(i)}else document.selection&&document.selection.createRange&&(i=document.selection.createRange(),r=3==t.nodeType?t.data:t.outerHTML,i.pasteHTML(r))}catch(t){}}function deleteValue(){try{if("true"!=KBDjqr(g_ActiveObj).attr("contenteditable")){var t=KBDjqr(g_ActiveObj).val(),e="",a="";selectedTextStart!=selectedTextEnd?(e=t.substr(0,selectedTextStart),a=t.slice(selectedTextEnd)):(e=t.substr(0,caretPos-1),a=t.slice(caretPos),caretPos-=1),t=e+a,KBDjqr(g_ActiveObj).val(t),setCursorPosition(g_ActiveObj,caretPos)}}catch(t){}}function switchArray(){try{if(isKBDOpen)if(isShiftPressed||lChecked){if(isShiftPressed&&!lChecked)for(t=0;t<mapShiftArray.length;t++)document.getElementById("gistFK_b"+(t+1)).value=mapShiftArray[t];else if(isShiftPressed&&lChecked)for(t=0;t<mapShiftExtArray.length;t++)document.getElementById("gistFK_b"+(t+1)).value=mapShiftExtArray[t];else if(!isShiftPressed&&lChecked)for(t=0;t<mapExtArray.length;t++)document.getElementById("gistFK_b"+(t+1)).value=mapExtArray[t]}else for(var t=0;t<mapArray.length;t++)document.getElementById("gistFK_b"+(t+1)).value=mapArray[t]}catch(t){}}function checkID(t){try{return-1!=KBDjqr.inArray(t.id,g_ID_Array)}catch(t){}}function getkeyboardCaretPosition(t){try{var e=KBDjqr(t).val()||KBDjqr(t).text(),a=e.length;caretPos=keyboardCaretPosition(t),beforeText=e.substring(0,caretPos),afterText=e.substring(caretPos,a)}catch(t){}}function keyboardCaretPosition(t){try{if("DIV"==t.tagName){var e=0;if(window.getSelection){var a=window.getSelection().getRangeAt(0),r=a.cloneRange();r.selectNodeContents(t),r.setEnd(a.endContainer,a.beginOffset),e=r.toString().length,selectedTextStart=t.selectionStart,selectedTextEnd=t.selectionEnd}return e}if(t.selectionStart||"0"==t.selectionStart)return selectedTextStart=t.selectionStart,selectedTextEnd=t.selectionEnd,t.selectionStart;if(t.createTextRange&&!isBrowserAboveIE9()){var i=t.value.length;if("TEXTAREA"==t.tagName){var s=0;if(document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),s=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(s=t.selectionStart);return s}for(var o=document.selection.createRange().duplicate();o.parentElement()==t&&1==o.move("character",1);)--i;return i==t.value.length+1?-1:i}}catch(t){}}function setCursorPosition(t,e){try{if(KBDjqr(t).get(0).setSelectionRange)KBDjqr(t).get(0).setSelectionRange(e,e);else if(KBDjqr(t).get(0).createTextRange){var a=KBDjqr(t).get(0).createTextRange();a.collapse(!0),a.moveEnd("character",e),a.moveStart("character",e),a.select()}}catch(t){}}function getBrowserName(){try{var t="",e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera")?t="opera":-1!=e.indexOf("msie")?t="msie":-1!=e.indexOf("safari")?t="safari":-1!=e.indexOf("mozilla")&&(t=-1!=e.indexOf("firefox")?"firefox":"mozilla"),t}catch(t){}}function isBrowserAboveIE9(){try{return!(parseInt(navigator.appVersion)<=4)}catch(t){}}KBDjqr(document).ready(function(){KBDjqr(document).click(function(){try{var t=document.activeElement;!t||("INPUT"!=t.tagName||"text"!=t.getAttribute("type")&&"email"!=t.getAttribute("type")&&"search"!=t.getAttribute("type"))&&"TEXTAREA"!=t.tagName&&("DIV"!=t.tagName||"true"!=t.getAttribute("contenteditable")&&"plaintext-only"!=t.getAttribute("contenteditable")||"readonly"==t.getAttribute("readonly")||1==t.getAttribute("readonly"))||(executeAfterClick(t),"true"==KBDjqr(g_ActiveObj).attr("contenteditable")||"plaintext-only"==KBDjqr(g_ActiveObj).attr("contenteditable")?(KBDjqr("#gistFK_Bksp").attr("disabled","disabled"),KBDjqr("#gistFK_Bksp").removeClass("gist_flt_kbdBtn"),KBDjqr("#gistFK_Bksp").addClass("gist_flt_kbdBtnDisable")):(KBDjqr("#gistFK_Bksp").removeAttr("disabled"),KBDjqr("#gistFK_Bksp").removeClass("gist_flt_kbdBtnDisable"),KBDjqr("#gistFK_Bksp").addClass("gist_flt_kbdBtn")))}catch(t){}}),KBDjqr(document).on("mouseup","#gist_flt_kbdBX_firstInnerBox",function(){try{null!=g_ActiveObj&&KBDjqr(g_ActiveObj).focus()}catch(t){}}),KBDjqr(document).on("click",".gist_flt_kbdBtn",function(){try{mapKey(this)}catch(t){}}),KBDjqr(document).on("keydown",g_ActiveObj,function(t){try{if(null!=g_ActiveObj&&(0==g_EnableTypingOnlyOnKBDOpen||1==g_EnableTypingOnlyOnKBDOpen&&isKBDOpen)){var e,a="";if(window.event)e=t.which;else if(t.which)switch(e=parseInt(t.which),t.key){case"-":case"_":e=189;break;case"=":case"+":e=187;break;case";":case":":e=186}if("DIV"==KBDjqr(g_ActiveObj).tagName&&"true"==KBDjqr(g_ActiveObj).attr("contenteditable")||getkeyboardCaretPosition(g_ActiveObj),t.ctrlKey)return;if(27==e)isKBDOpen=!1,closeKeyboard();else if(e>=186&&e<=192||e>=219&&e<=222||e>=48&&e<=57||e>=65&&e<=90||8==e)if(0!=g_EnableTypingOnlyOnKBDOpen||isKBDOpen||setLanguageOnKeyboard(g_CurrentLanguage),e>=186&&e<=192||e>=219&&e<=222){for(var r=new Array("186","187","188","189","190","191","192","219","220","221","222"),i=new Array(";","=",",","-",".","/","`","[","\\","]","'"),s=new Array(":","+","<","_",">","?","~","{","|","}",'"'),n=0;n<r.length;n++)if(e==r[n]){a=t.shiftKey?s[n]:i[n];break}keyDownOnInputBox(t,a)}else(e>=48&&e<=57||e>=65&&e<=90)&&keyDownOnInputBox(t,a=String.fromCharCode(e));if((t.shiftKey||16==e)&&(t.preventDefault(),KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").hasClass("gist_flt_kbd_shiftUp")&&(KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").removeClass("gist_flt_kbd_shiftUp"),KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").addClass("gist_flt_kbd_shiftDown")),isShiftPressed=!0,switchArray()),!t.altKey&&18!=e)return;t.preventDefault(),KBDjqr("#gistFK_lchange").hasClass("gistFK_lchange_Up")&&(KBDjqr("#gistFK_lchange").removeClass("gistFK_lchange_Up"),KBDjqr("#gistFK_lchange").addClass("gistFK_lchange_Down")),lChecked=!0,switchArray()}}catch(t){}}),KBDjqr(document).on("keyup",g_ActiveObj,function(t){try{if(null!=g_ActiveObj&&(0==g_EnableTypingOnlyOnKBDOpen||1==g_EnableTypingOnlyOnKBDOpen&&isKBDOpen)){var e=t.which;switch(t.key){case"-":case"_":e=189;break;case"=":case"+":e=187;break;case";":case":":e=186}if(t.ctrlKey)return;if(e>=186&&e<=191||e>=219&&e<=222||e>=48&&e<=57||e>=65&&e<=90||8==e){var a=KBDjqr(".gist_flt_kbdBtn");KBDjqr(a).each(function(){0!=whichClass&&(1==whichClass?KBDjqr(this).addClass("themeBackground1"):2==whichClass?KBDjqr(this).addClass("themeBackground2"):3==whichClass&&KBDjqr(this).addClass("themeBackground3"))})}else if(t.shiftKey||16==e)t.preventDefault(),KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").hasClass("gist_flt_kbd_shiftDown")&&(KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").removeClass("gist_flt_kbd_shiftDown"),KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").addClass("gist_flt_kbd_shiftUp")),isShiftPressed=!1,switchArray();else{if(!t.altKey&&18!=e)return;t.preventDefault(),KBDjqr("#gistFK_lchange").hasClass("gistFK_lchange_Down")&&(KBDjqr("#gistFK_lchange").removeClass("gistFK_lchange_Down"),KBDjqr("#gistFK_lchange").addClass("gistFK_lchange_Up")),lChecked=!1,switchArray()}}}catch(t){}}),KBDjqr(document).on("click","#disableIndianLangTyping",function(){KBDjqr("#disableIndianLangTyping").is(":checked")?(g_EnableTypingOnlyOnKBDOpen=1,isKBDOpen&&closeKeyboard()):g_EnableTypingOnlyOnKBDOpen=0}),KBDjqr(document).on("click","#gistFK_btnShift1,#gistFK_btnShift2",function(){try{KBDjqr(this).hasClass("gist_flt_kbd_shiftUp")?(KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").removeClass("gist_flt_kbd_shiftUp"),KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").addClass("gist_flt_kbd_shiftDown"),isShiftPressed=!0):KBDjqr(this).hasClass("gist_flt_kbd_shiftDown")&&(KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").removeClass("gist_flt_kbd_shiftDown"),KBDjqr("#gistFK_btnShift1,#gistFK_btnShift2").addClass("gist_flt_kbd_shiftUp"),isShiftPressed=!1),switchArray()}catch(t){}}),KBDjqr(document).on("click","#gistFK_lchange",function(){try{KBDjqr("#gistFK_lchange").hasClass("gistFK_lchange_Up")?(KBDjqr("#gistFK_lchange").removeClass("gistFK_lchange_Up"),KBDjqr("#gistFK_lchange").addClass("gistFK_lchange_Down"),lChecked=!0):KBDjqr("#gistFK_lchange").hasClass("gistFK_lchange_Down")&&(KBDjqr("#gistFK_lchange").removeClass("gistFK_lchange_Down"),KBDjqr("#gistFK_lchange").addClass("gistFK_lchange_Up"),lChecked=!1),switchArray()}catch(t){}}),KBDjqr(document).on("click","#gistFK_theme1",function(){try{KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").hasClass("themeBorder2")?(KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").removeClass("themeBorder2"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").removeClass("themeBackground2"),KBDjqr("#gistFK_wdrag").removeClass("gist_flt_wdrag_Theme2"),KBDjqr(g_KeyboardContainer).removeClass("backgroundClrTheme2")):(KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").removeClass("themeBorder3"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").removeClass("themeBackground3"),KBDjqr("#gistFK_wdrag").removeClass("gist_flt_wdrag_Theme3"),KBDjqr(g_KeyboardContainer).removeClass("backgroundClrTheme3")),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").addClass("themeBorder1"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").addClass("themeBackground1"),KBDjqr("#gistFK_wdrag").addClass("gist_flt_wdrag_Theme1"),KBDjqr(g_KeyboardContainer).addClass("backgroundClrTheme1")}catch(t){}}),KBDjqr(document).on("click","#gistFK_theme2",function(){try{KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").hasClass("themeBorder1")?(KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").removeClass("themeBorder1"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").removeClass("themeBackground1"),KBDjqr("#gistFK_wdrag").removeClass("gist_flt_wdrag_Theme1"),KBDjqr(g_KeyboardContainer).removeClass("backgroundClrTheme1")):(KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").removeClass("themeBorder3"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").removeClass("themeBackground3"),KBDjqr("#gistFK_wdrag").removeClass("gist_flt_wdrag_Theme3"),KBDjqr(g_KeyboardContainer).removeClass("backgroundClrTheme3")),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").addClass("themeBorder2"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").addClass("themeBackground2"),KBDjqr("#gistFK_wdrag").addClass("gist_flt_wdrag_Theme2"),KBDjqr(g_KeyboardContainer).addClass("backgroundClrTheme2")}catch(t){}}),KBDjqr(document).on("click","#gistFK_theme3",function(){try{KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").hasClass("themeBorder1")?(KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").removeClass("themeBorder1"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").removeClass("themeBackground1"),KBDjqr("#gistFK_wdrag").removeClass("gist_flt_wdrag_Theme1"),KBDjqr(g_KeyboardContainer).removeClass("backgroundClrTheme1")):(KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").removeClass("themeBorder2"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").removeClass("themeBackground2"),KBDjqr("#gistFK_wdrag").removeClass("gist_flt_wdrag_Theme2"),KBDjqr(g_KeyboardContainer).removeClass("backgroundClrTheme2")),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_Tab,#gistFK_Lock,#gistFK_Enter").addClass("themeBorder3"),KBDjqr(".gist_flt_kbdBtn,#gistFK_btnShift1,#gistFK_btnShift2,#gistFK_lchange,#gistFK_wdrag").addClass("themeBackground3"),KBDjqr("#gistFK_wdrag").addClass("gist_flt_wdrag_Theme3"),KBDjqr(g_KeyboardContainer).addClass("backgroundClrTheme3")}catch(t){}}),KBDjqr(document).on("click","#gistFK_CloseBtn",function(){try{isKBDOpen=!1,closeKeyboard()}catch(t){}})});